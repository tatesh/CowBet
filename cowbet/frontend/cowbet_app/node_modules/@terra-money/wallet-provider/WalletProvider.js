import { WalletContext, WalletStatus, } from '@terra-money/use-wallet';
import { WalletController, } from '@terra-money/wallet-controller';
import React, { useEffect, useMemo, useState } from 'react';
const EMPTY_ARRAY = [];
const EMPTY_SUPPORT_FEATURES = new Set();
export function WalletProvider({ children, defaultNetwork, walletConnectChainIds, connectorOpts, pushServerOpts, createReadonlyWalletSession, selectExtension, waitingChromeExtensionInstallCheck, dangerously__chromeExtensionCompatibleBrowserCheck, }) {
    const [controller] = useState(() => new WalletController({
        defaultNetwork,
        walletConnectChainIds,
        connectorOpts,
        pushServerOpts,
        createReadonlyWalletSession,
        selectExtension,
        waitingChromeExtensionInstallCheck,
        dangerously__chromeExtensionCompatibleBrowserCheck,
    }));
    const [availableConnectTypes, setAvailableConnectTypes] = useState(() => []);
    const [availableInstallTypes, setAvailableInstallTypes] = useState(() => []);
    const [availableConnections, setAvailableConnections] = useState(() => []);
    const [availableInstallations, setAvailableInstallations] = useState(() => []);
    const [states, setStates] = useState(() => ({
        status: WalletStatus.INITIALIZING,
        network: defaultNetwork,
    }));
    useEffect(() => {
        const availableConnectTypesSubscription = controller
            .availableConnectTypes()
            .subscribe({
            next: (value) => {
                setAvailableConnectTypes(value);
            },
        });
        const availableInstallTypesSubscription = controller
            .availableInstallTypes()
            .subscribe({
            next: (value) => {
                setAvailableInstallTypes(value);
            },
        });
        const availableConnectionsSubscription = controller
            .availableConnections()
            .subscribe({
            next: (value) => {
                setAvailableConnections(value);
            },
        });
        const availableInstallationsSubscription = controller
            .availableInstallations()
            .subscribe({
            next: (value) => {
                setAvailableInstallations(value);
            },
        });
        const statesSubscription = controller.states().subscribe({
            next: (value) => {
                setStates(value);
            },
        });
        return () => {
            availableConnectTypesSubscription.unsubscribe();
            availableInstallTypesSubscription.unsubscribe();
            availableConnectionsSubscription.unsubscribe();
            availableInstallationsSubscription.unsubscribe();
            statesSubscription.unsubscribe();
        };
    }, [controller]);
    const state = useMemo(() => {
        return {
            availableConnectTypes,
            availableInstallTypes,
            availableConnections,
            availableInstallations,
            status: states.status,
            network: states.network,
            wallets: states.status === WalletStatus.WALLET_CONNECTED
                ? states.wallets
                : EMPTY_ARRAY,
            install: controller.install,
            connect: controller.connect,
            connectReadonly: controller.connectReadonly,
            disconnect: controller.disconnect,
            connection: states.status === WalletStatus.WALLET_CONNECTED
                ? states.connection
                : undefined,
            supportFeatures: states.status === WalletStatus.WALLET_CONNECTED
                ? states.supportFeatures
                : EMPTY_SUPPORT_FEATURES,
            post: controller.post,
            sign: controller.sign,
            signBytes: controller.signBytes,
            hasCW20Tokens: controller.hasCW20Tokens,
            addCW20Tokens: controller.addCW20Tokens,
            hasNetwork: controller.hasNetwork,
            addNetwork: controller.addNetwork,
            refetchStates: controller.refetchStates,
            recheckStatus: controller.refetchStates,
            isChromeExtensionCompatibleBrowser: controller.isChromeExtensionCompatibleBrowser,
        };
    }, [
        availableConnectTypes,
        availableInstallTypes,
        availableConnections,
        availableInstallations,
        controller,
        states,
    ]);
    return (React.createElement(WalletContext.Provider, { value: state }, children));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV2FsbGV0UHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvQHRlcnJhLW1vbmV5L3dhbGxldC1wcm92aWRlci9XYWxsZXRQcm92aWRlci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUtMLGFBQWEsRUFHYixZQUFZLEdBQ2IsTUFBTSx5QkFBeUIsQ0FBQztBQUNqQyxPQUFPLEVBQ0wsZ0JBQWdCLEdBRWpCLE1BQU0sZ0NBQWdDLENBQUM7QUFDeEMsT0FBTyxLQUFLLEVBQUUsRUFBYSxTQUFTLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQU12RSxNQUFNLFdBQVcsR0FBaUIsRUFBRSxDQUFDO0FBQ3JDLE1BQU0sc0JBQXNCLEdBQUcsSUFBSSxHQUFHLEVBQTZCLENBQUM7QUFFcEUsTUFBTSxVQUFVLGNBQWMsQ0FBQyxFQUM3QixRQUFRLEVBQ1IsY0FBYyxFQUNkLHFCQUFxQixFQUNyQixhQUFhLEVBQ2IsY0FBYyxFQUNkLDJCQUEyQixFQUMzQixlQUFlLEVBQ2Ysa0NBQWtDLEVBQ2xDLGtEQUFrRCxHQUM5QjtJQUNwQixNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsUUFBUSxDQUMzQixHQUFHLEVBQUUsQ0FDSCxJQUFJLGdCQUFnQixDQUFDO1FBQ25CLGNBQWM7UUFDZCxxQkFBcUI7UUFDckIsYUFBYTtRQUNiLGNBQWM7UUFDZCwyQkFBMkI7UUFDM0IsZUFBZTtRQUNmLGtDQUFrQztRQUNsQyxrREFBa0Q7S0FDbkQsQ0FBQyxDQUNMLENBQUM7SUFFRixNQUFNLENBQUMscUJBQXFCLEVBQUUsd0JBQXdCLENBQUMsR0FBRyxRQUFRLENBRWhFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBRVosTUFBTSxDQUFDLHFCQUFxQixFQUFFLHdCQUF3QixDQUFDLEdBQUcsUUFBUSxDQUVoRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUVaLE1BQU0s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QUFDLE1BQU0sQ0FBQyxVQUFVO2dCQUNuQixDQUFDLENBQUMsU0FBUztZQUNmLGVBQWUsRUFDYixNQUFNLENBQUMsTUFBTSxLQUFLLFlBQVksQ0FBQyxnQkFBZ0I7Z0JBQzdDLENBQUMsQ0FBQyxNQUFNLENBQUMsZUFBZTtnQkFDeEIsQ0FBQyxDQUFDLHNCQUFzQjtZQUM1QixJQUFJLEVBQUUsVUFBVSxDQUFDLElBQUk7WUFDckIsSUFBSSxFQUFFLFVBQVUsQ0FBQyxJQUFJO1lBQ3JCLFNBQVMsRUFBRSxVQUFVLENBQUMsU0FBUztZQUMvQixhQUFhLEVBQUUsVUFBVSxDQUFDLGFBQWE7WUFDdkMsYUFBYSxFQUFFLFVBQVUsQ0FBQyxhQUFhO1lBQ3ZDLFVBQVUsRUFBRSxVQUFVLENBQUMsVUFBVTtZQUNqQyxVQUFVLEVBQUUsVUFBVSxDQUFDLFVBQVU7WUFDakMsYUFBYSxFQUFFLFVBQVUsQ0FBQyxhQUFhO1lBQ3ZDLGFBQWEsRUFBRSxVQUFVLENBQUMsYUFBYTtZQUN2QyxrQ0FBa0MsRUFDaEMsVUFBVSxDQUFDLGtDQUFrQztTQUNoRCxDQUFDO0lBQ0osQ0FBQyxFQUFFO1FBQ0QscUJBQXFCO1FBQ3JCLHFCQUFxQjtRQUNyQixvQkFBb0I7UUFDcEIsc0JBQXNCO1FBQ3RCLFVBQVU7UUFDVixNQUFNO0tBQ1AsQ0FBQyxDQUFDO0lBRUgsT0FBTyxDQUNMLG9CQUFDLGFBQWEsQ0FBQyxRQUFRLElBQUMsS0FBSyxFQUFFLEtBQUssSUFBRyxRQUFRLENBQTBCLENBQzFFLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGVycmFXZWJFeHRlbnNpb25GZWF0dXJlcyB9IGZyb20gJ0B0ZXJyYS1tb25leS93ZWItZXh0ZW5zaW9uLWludGVyZmFjZSc7XG5pbXBvcnQge1xuICBDb25uZWN0aW9uLFxuICBDb25uZWN0VHlwZSxcbiAgSW5zdGFsbGF0aW9uLFxuICBXYWxsZXQsXG4gIFdhbGxldENvbnRleHQsXG4gIFdhbGxldEluZm8sXG4gIFdhbGxldFN0YXRlcyxcbiAgV2FsbGV0U3RhdHVzLFxufSBmcm9tICdAdGVycmEtbW9uZXkvdXNlLXdhbGxldCc7XG5pbXBvcnQge1xuICBXYWxsZXRDb250cm9sbGVyLFxuICBXYWxsZXRDb250cm9sbGVyT3B0aW9ucyxcbn0gZnJvbSAnQHRlcnJhLW1vbmV5L3dhbGxldC1jb250cm9sbGVyJztcbmltcG9ydCBSZWFjdCwgeyBSZWFjdE5vZGUsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2FsbGV0UHJvdmlkZXJQcm9wcyBleHRlbmRzIFdhbGxldENvbnRyb2xsZXJPcHRpb25zIHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbn1cblxuY29uc3QgRU1QVFlfQVJSQVk6IFdhbGxldEluZm9bXSA9IFtdO1xuY29uc3QgRU1QVFlfU1VQUE9SVF9GRUFUVVJFUyA9IG5ldyBTZXQ8VGVycmFXZWJFeHRlbnNpb25GZWF0dXJlcz4oKTtcblxuZXhwb3J0IGZ1bmN0aW9uIFdhbGxldFByb3ZpZGVyKHtcbiAgY2hpbGRyZW4sXG4gIGRlZmF1bHROZXR3b3JrLFxuICB3YWxsZXRDb25uZWN0Q2hhaW5JZHMsXG4gIGNvbm5lY3Rvck9wdHMsXG4gIHB1c2hTZXJ2ZXJPcHRzLFxuICBjcmVhdGVSZWFkb25seVdhbGxldFNlc3Npb24sXG4gIHNlbGVjdEV4dGVuc2lvbixcbiAgd2FpdGluZ0Nocm9tZUV4dGVuc2lvbkluc3RhbGxDaGVjayxcbiAgZGFuZ2Vyb3VzbHlfX2Nocm9tZUV4dGVuc2lvbkNvbXBhdGlibGVCcm93c2VyQ2hlY2ssXG59OiBXYWxsZXRQcm92aWRlclByb3BzKSB7XG4gIGNvbnN0IFtjb250cm9sbGVyXSA9IHVzZVN0YXRlPFdhbGxldENvbnRyb2xsZXI+KFxuICAgICgpID0+XG4gICAgICBuZXcgV2FsbGV0Q29udHJvbGxlcih7XG4gICAgICAgIGRlZmF1bHROZXR3b3JrLFxuICAgICAgICB3YWxsZXRDb25uZWN0Q2hhaW5JZHMsXG4gICAgICAgIGNvbm5lY3Rvck9wdHMsXG4gICAgICAgIHB1c2hTZXJ2ZXJPcHRzLFxuICAgICAgICBjcmVhdGVSZWFkb25seVdhbGxldFNlc3Npb24sXG4gICAgICAgIHNlbGVjdEV4dGVuc2lvbixcbiAgICAgICAgd2FpdGluZ0Nocm9tZUV4dGVuc2lvbkluc3RhbGxDaGVjayxcbiAgICAgICAgZGFuZ2Vyb3VzbHlfX2Nocm9tZUV4dGVuc2lvbkNvbXBhdGlibGVCcm93c2VyQ2hlY2ssXG4gICAgICB9KSxcbiAgKTtcblxuICBjb25zdCBbYXZhaWxhYmxlQ29ubmVjdFR5cGVzLCBzZXRBdmFpbGFibGVDb25uZWN0VHlwZXNdID0gdXNlU3RhdGU8XG4gICAgQ29ubmVjdFR5cGVbXVxuICA+KCgpID0+IFtdKTtcblxuICBjb25zdCBbYXZhaWxhYmxlSW5zdGFsbFR5cGVzLCBzZXRBdmFpbGFibGVJbnN0YWxsVHlwZXNdID0gdXNlU3RhdGU8XG4gICAgQ29ubmVjdFR5cGVbXVxuICA+KCgpID0+IFtdKTtcblxuICBjb25zdCBbYXZhaWxhYmxlQ29ubmVjdGlvbnMsIHNldEF2YWlsYWJsZUNvbm5lY3Rpb25zXSA9IHVzZVN0YXRlPFxuICAgIENvbm5lY3Rpb25bXVxuICA+KCgpID0+IFtdKTtcblxuICBjb25zdCBbYXZhaWxhYmxlSW5zdGFsbGF0aW9ucywgc2V0QXZhaWxhYmxlSW5zdGFsbGF0aW9uc10gPSB1c2VTdGF0ZTxcbiAgICBJbnN0YWxsYXRpb25bXVxuICA+KCgpID0+IFtdKTtcblxuICBjb25zdCBbc3RhdGVzLCBzZXRTdGF0ZXNdID0gdXNlU3RhdGU8V2FsbGV0U3RhdGVzPigoKSA9PiAoe1xuICAgIHN0YXR1czogV2FsbGV0U3RhdHVzLklOSVRJQUxJWklORyxcbiAgICBuZXR3b3JrOiBkZWZhdWx0TmV0d29yayxcbiAgfSkpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgYXZhaWxhYmxlQ29ubmVjdFR5cGVzU3Vic2NyaXB0aW9uID0gY29udHJvbGxlclxuICAgICAgLmF2YWlsYWJsZUNvbm5lY3RUeXBlcygpXG4gICAgICAuc3Vic2NyaWJlKHtcbiAgICAgICAgbmV4dDogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgc2V0QXZhaWxhYmxlQ29ubmVjdFR5cGVzKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgYXZhaWxhYmxlSW5zdGFsbFR5cGVzU3Vic2NyaXB0aW9uID0gY29udHJvbGxlclxuICAgICAgLmF2YWlsYWJsZUluc3RhbGxUeXBlcygpXG4gICAgICAuc3Vic2NyaWJlKHtcbiAgICAgICAgbmV4dDogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgc2V0QXZhaWxhYmxlSW5zdGFsbFR5cGVzKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgYXZhaWxhYmxlQ29ubmVjdGlvbnNTdWJzY3JpcHRpb24gPSBjb250cm9sbGVyXG4gICAgICAuYXZhaWxhYmxlQ29ubmVjdGlvbnMoKVxuICAgICAgLnN1YnNjcmliZSh7XG4gICAgICAgIG5leHQ6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHNldEF2YWlsYWJsZUNvbm5lY3Rpb25zKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgY29uc3QgYXZhaWxhYmxlSW5zdGFsbGF0aW9uc1N1YnNjcmlwdGlvbiA9IGNvbnRyb2xsZXJcbiAgICAgIC5hdmFpbGFibGVJbnN0YWxsYXRpb25zKClcbiAgICAgIC5zdWJzY3JpYmUoe1xuICAgICAgICBuZXh0OiAodmFsdWUpID0+IHtcbiAgICAgICAgICBzZXRBdmFpbGFibGVJbnN0YWxsYXRpb25zKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgY29uc3Qgc3RhdGVzU3Vic2NyaXB0aW9uID0gY29udHJvbGxlci5zdGF0ZXMoKS5zdWJzY3JpYmUoe1xuICAgICAgbmV4dDogKHZhbHVlKSA9PiB7XG4gICAgICAgIHNldFN0YXRlcyh2YWx1ZSk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGF2YWlsYWJsZUNvbm5lY3RUeXBlc1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgYXZhaWxhYmxlSW5zdGFsbFR5cGVzU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICBhdmFpbGFibGVDb25uZWN0aW9uc1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgYXZhaWxhYmxlSW5zdGFsbGF0aW9uc1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgc3RhdGVzU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgfSwgW2NvbnRyb2xsZXJdKTtcblxuICBjb25zdCBzdGF0ZSA9IHVzZU1lbW88V2FsbGV0PigoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF2YWlsYWJsZUNvbm5lY3RUeXBlcyxcbiAgICAgIGF2YWlsYWJsZUluc3RhbGxUeXBlcyxcbiAgICAgIGF2YWlsYWJsZUNvbm5lY3Rpb25zLFxuICAgICAgYXZhaWxhYmxlSW5zdGFsbGF0aW9ucyxcbiAgICAgIHN0YXR1czogc3RhdGVzLnN0YXR1cyxcbiAgICAgIG5ldHdvcms6IHN0YXRlcy5uZXR3b3JrLFxuICAgICAgd2FsbGV0czpcbiAgICAgICAgc3RhdGVzLnN0YXR1cyA9PT0gV2FsbGV0U3RhdHVzLldBTExFVF9DT05ORUNURURcbiAgICAgICAgICA/IHN0YXRlcy53YWxsZXRzXG4gICAgICAgICAgOiBFTVBUWV9BUlJBWSxcbiAgICAgIGluc3RhbGw6IGNvbnRyb2xsZXIuaW5zdGFsbCxcbiAgICAgIGNvbm5lY3Q6IGNvbnRyb2xsZXIuY29ubmVjdCxcbiAgICAgIGNvbm5lY3RSZWFkb25seTogY29udHJvbGxlci5jb25uZWN0UmVhZG9ubHksXG4gICAgICBkaXNjb25uZWN0OiBjb250cm9sbGVyLmRpc2Nvbm5lY3QsXG4gICAgICBjb25uZWN0aW9uOlxuICAgICAgICBzdGF0ZXMuc3RhdHVzID09PSBXYWxsZXRTdGF0dXMuV0FMTEVUX0NPTk5FQ1RFRFxuICAgICAgICAgID8gc3RhdGVzLmNvbm5lY3Rpb25cbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIHN1cHBvcnRGZWF0dXJlczpcbiAgICAgICAgc3RhdGVzLnN0YXR1cyA9PT0gV2FsbGV0U3RhdHVzLldBTExFVF9DT05ORUNURURcbiAgICAgICAgICA/IHN0YXRlcy5zdXBwb3J0RmVhdHVyZXNcbiAgICAgICAgICA6IEVNUFRZX1NVUFBPUlRfRkVBVFVSRVMsXG4gICAgICBwb3N0OiBjb250cm9sbGVyLnBvc3QsXG4gICAgICBzaWduOiBjb250cm9sbGVyLnNpZ24sXG4gICAgICBzaWduQnl0ZXM6IGNvbnRyb2xsZXIuc2lnbkJ5dGVzLFxuICAgICAgaGFzQ1cyMFRva2VuczogY29udHJvbGxlci5oYXNDVzIwVG9rZW5zLFxuICAgICAgYWRkQ1cyMFRva2VuczogY29udHJvbGxlci5hZGRDVzIwVG9rZW5zLFxuICAgICAgaGFzTmV0d29yazogY29udHJvbGxlci5oYXNOZXR3b3JrLFxuICAgICAgYWRkTmV0d29yazogY29udHJvbGxlci5hZGROZXR3b3JrLFxuICAgICAgcmVmZXRjaFN0YXRlczogY29udHJvbGxlci5yZWZldGNoU3RhdGVzLFxuICAgICAgcmVjaGVja1N0YXR1czogY29udHJvbGxlci5yZWZldGNoU3RhdGVzLFxuICAgICAgaXNDaHJvbWVFeHRlbnNpb25Db21wYXRpYmxlQnJvd3NlcjpcbiAgICAgICAgY29udHJvbGxlci5pc0Nocm9tZUV4dGVuc2lvbkNvbXBhdGlibGVCcm93c2VyLFxuICAgIH07XG4gIH0sIFtcbiAgICBhdmFpbGFibGVDb25uZWN0VHlwZXMsXG4gICAgYXZhaWxhYmxlSW5zdGFsbFR5cGVzLFxuICAgIGF2YWlsYWJsZUNvbm5lY3Rpb25zLFxuICAgIGF2YWlsYWJsZUluc3RhbGxhdGlvbnMsXG4gICAgY29udHJvbGxlcixcbiAgICBzdGF0ZXMsXG4gIF0pO1xuXG4gIHJldHVybiAoXG4gICAgPFdhbGxldENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3N0YXRlfT57Y2hpbGRyZW59PC9XYWxsZXRDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuIl19